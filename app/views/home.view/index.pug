extends ../layout

block content
  html
    head
      title Google Map Integration
      meta(charset="UTF-8")
      meta(name="viewport" content="width=device-width, initial-scale=1.0")
      link(rel="stylesheet" href="/stylesheets/home.css")

    body
      .container-fluid
        // Banner Section
        #carouselExampleIndicators.carousel.slide(style="height: 590px;")
          // Indicators
          ol.carousel-indicators
            li(data-target="#carouselExampleIndicators" data-slide-to="0" class="active")
            li(data-target="#carouselExampleIndicators" data-slide-to="1")
            li(data-target="#carouselExampleIndicators" data-slide-to="2")

          // Slides
          .carousel-inner(style="height: 100%;")
            .carousel-item.active
              img(src="/images/banner/banner1.jpg" class="d-block w-100" style="height: 590px;" alt="Banner 1")
            .carousel-item
              img(src="/images/banner/2.jpg" class="d-block w-100" style="height: 590px;" alt="Banner 2")
            .carousel-item
              img(src="/images/banner/3.jpg" class="d-block w-100" style="height: 590px;" alt="Banner 3")

          // Controls
          a.carousel-control-prev(href="#carouselExampleIndicators" role="button" data-slide="prev")
            span.carousel-control-prev-icon(aria-hidden="true")
            span.sr-only Previous
          a.carousel-control-next(href="#carouselExampleIndicators" role="button" data-slide="next")
            span.carousel-control-next-icon(aria-hidden="true")
            span.sr-only Next

        // Map and Location Info Section
        .row.mt-5
          .col-md-6
            #map(style="height: 500px; width: 100%;")
          .col-md-6
            #location-info(style="height: 500px; overflow-y: auto; padding: 20px; background-color: #f8f9fa; border-radius: 5px;")
              h3.text-center.mb-3 Địa Điểm Bạn Đang Chọn
              ul.list-unstyled
                li#info-title.mt-2 Title: Waiting for selection...
                li#info-coordinates.mt-2 Coordinates: ...
                li#info-description.mt-2 Description: ...
                li#info-restaurant-name.mt-2 Restaurant: ...
                li#info-main-dish.mt-2 Main Dish: ...
                li#info-background.mt-2 Background Image: ...

              // Thêm các trường nhập liệu để cập nhật thông tin địa điểm
              div.mt-3(style="display: none;" id="info-form-container")
                label(for="restaurant-name") Restaurant Name:
                input#restaurant-name.form-control(type="text" placeholder="Enter Restaurant Name")

              div.mt-3
                label(for="main-dish") Main Dish:
                input#main-dish.form-control(type="text" placeholder="Enter Main Dish")

              div.mt-3
                label(for="background-image") Background Image URL:
                input#background-image.form-control(type="text" placeholder="Enter Image URL")

              button#btn-update-info.btn.btn-primary.mt-3.w-100(onclick="updateLocationInfo()") Update Location Info
              button#btn-directions.btn.btn-primary.mt-3.w-100(onclick="calculateAndDisplayRoute()") Get Directions
              button#btn-clear-route.btn.btn-danger.mt-3.w-100(onclick="clearRoute()") Clear Route

              // Hiển thị bản đồ
              #map(style="height: 400px; width: 100%;")



    // External Scripts
    script(src="https://code.jquery.com/jquery-3.5.1.slim.min.js")
    script(src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js")
    script(src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js")

    // Google Maps script with async loading
    script(src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDMYHRWHS-0T7pgR7MrzkYr-vIpzKEWXFk&libraries=places&callback=initMap" async defer)

    // Custom Map functionality
    script(type="text/javascript" src="/javascripts/map.js")

